<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Погода в Усть-Илимске</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="weather-widget">
        <div class="weather-header">
            <div class="location">
                <h2>Усть-Илимск</h2>
                <p>Понедельник, 12 июня</p>
            </div>
            <button class="refresh-btn" id="refreshWeather">
                <i class="fas fa-sync-alt"></i>
            </button>
        </div>
        
        <div class="current-weather">
            <div class="temperature">-5°C</div>
            <div class="weather-icon">
                <i class="fas fa-snowflake"></i>
            </div>
        </div>
        
        <div class="weather-details">
            <div class="detail">
                <i class="fas fa-wind"></i>
                <div class="value">7 км/ч</div>
                <div class="label">Ветер</div>
            </div>
            <div class="detail">
                <i class="fas fa-tint"></i>
                <div class="value">75%</div>
                <div class="label">Влажность</div>
            </div>
            <div class="detail">
                <i class="fas fa-compress-arrows-alt"></i>
                <div class="value">1012 гПа</div>
                <div class="label">Давление</div>
            </div>
            <div class="detail">
                <i class="fas fa-eye"></i>
                <div class="value">8 км</div>
                <div class="label">Видимость</div>
            </div>
        </div>
        
        <div class="forecast">
            <div class="day">
                <div class="day-name">Вт</div>
                <div class="day-icon"><i class="fas fa-cloud-sun"></i></div>
                <div class="day-temp">-3°</div>
            </div>
            <div class="day">
                <div class="day-name">Ср</div>
                <div class="day-icon"><i class="fas fa-cloud"></i></div>
                <div class="day-temp">-7°</div>
            </div>
            <div class="day">
                <div class="day-name">Чт</div>
                <div class="day-icon"><i class="fas fa-snowflake"></i></div>
                <div class="day-temp">-10°</div>
            </div>
            <div class="day">
                <div class="day-name">Пт</div>
                <div class="day-icon"><i class="fas fa-sun"></i></div>
                <div class="day-temp">-2°</div>
            </div>
        </div>
        
        <div class="last-update">
            Обновлено: <span id="updateTime">10:30</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const refreshBtn = document.getElementById('refreshWeather');
            const updateTimeElement = document.getElementById('updateTime');
            
            // Функция для обновления времени
            function updateTime() {
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                updateTimeElement.textContent = `${hours}:${minutes}`;
            }
            
            // Функция для обновления погоды
            function updateWeather() {
                const refreshIcon = refreshBtn.querySelector('i');
                refreshIcon.classList.add('fa-spin');
                
                // Имитация запроса к API
                setTimeout(() => {
                    // Генерируем случайные значения для демонстрации
                    const temp = -10 + Math.floor(Math.random() * 12); // от -10 до +2
                    const wind = 5 + Math.floor(Math.random() * 10); // от 5 до 15 км/ч
                    const humidity = 70 + Math.floor(Math.random() * 15); // от 70% до 85%
                    const pressure = 1005 + Math.floor(Math.random() * 15); // от 1005 до 1020 гПа
                    const visibility = 5 + Math.floor(Math.random() * 10); // от 5 до 15 км
                    
                    // Обновляем данные на странице
                    document.querySelector('.temperature').textContent = `${temp}°C`;
                    document.querySelector('.detail:nth-child(1) .value').textContent = `${wind} км/ч`;
                    document.querySelector('.detail:nth-child(2) .value').textContent = `${humidity}%`;
                    document.querySelector('.detail:nth-child(3) .value').textContent = `${pressure} гПа`;
                    document.querySelector('.detail:nth-child(4) .value').textContent = `${visibility} км`;
                    
                    // Обновляем время
                    updateTime();
                    
                    // Останавливаем анимацию
                    refreshIcon.classList.remove('fa-spin');
                }, 1500);
            }
            
            // Обновляем погоду при загрузке
            updateWeather();
            
            // Обновляем погоду каждую минуту
            setInterval(updateWeather, 60000);
            
            // Обновляем при клике на кнопку
            refreshBtn.addEventListener('click', updateWeather);
        });
    </script>
</body>
</html>
